<!-- src/app/product/product.component.html -->
<div class="container">
    <div class="d-flex justify-content-center my-4 ">
        <h1>{{storeName}}</h1>
        <img id="logo" class="rounded-4 mx-1 " [src]="storeLogo" alt="">
    </div>

    
    <div class="d-flex justify-content-evenly">
        <div>
        <label for="clientNameInput" >Your Name: </label>
            <input id="clientNameInput" [(ngModel)]="clientName" type="text" class="form-text mx-2  rounded-2">
        </div>
        <h3 class="text-end">Total Price:{{totalOrderPrice | currency}}</h3>
    </div>
    <hr>
    <label for="categorySelect" class=" m-1">Filter by Catgory </label>
    <select id="categorySelect" [(ngModel)]="selectedID">
        <option *ngFor="let catgory of catgoryList" [value]="catgory.ID">{{catgory.Name}}</option>
    </select>
    <p>Selected ID:{{selectedID}}</p>

    <table class="table">
        <thead class="table-success text-center">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Stock</th>
                <th scope="col">Price</th>
                <th scope="col">Img</th>
                <th scope="col">Quantity</th>
                <th scope="col">Buy Now</th>
            </tr>
        </thead>
        <tbody class="text-center align-baseline">
            <!-- <tr *ngFor="let product of productList, let i = index" 
            [class.d-none]="selectedID != product.CatogryID"> -->
                <tr *ngFor="let product of productList, let i = index; trackBy:proTrackBy " 
                [ngClass]="{'d-none': selectedID != product.CatogryID && selectedID != 0}"
                >
                <td>{{i+1}}</td>
                <td>{{product.Name}}</td>
                <td>{{product.Quantity}}</td>
                <td>{{product.Price}}</td>
                <td><img [src]="product.Img" alt="Product Image"></td>
                <td><input #itemsCount type="number" class="form-control form-control-sm "></td>
                <td><button type="button" class="btn btn-success" (click)="buy(product.Price, itemsCount.value)">Buy
                        Now</button></td>
            </tr>
        </tbody>
    </table>

</div>